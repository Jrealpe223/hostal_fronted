{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelCheckbox as _vModelCheckbox, createTextVNode as _createTextVNode, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"right-bar\"\n};\nconst _hoisted_2 = {\n  class: \"navbar2\"\n};\nconst _hoisted_3 = {\n  class: \"container register\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"nav\", _hoisted_2, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goToHome && $options.goToHome(...args)),\n    class: \"btn2\"\n  }, \"Inicio\")])]), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Clase container añadida \"), _cache[17] || (_cache[17] = _createElementVNode(\"h2\", null, \"Register\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    class: \"form-register\",\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $options.register && $options.register(...args), [\"prevent\"]))\n  }, [_createCommentVNode(\" Clase form-register añadida \"), _createCommentVNode(\" Nombre \"), _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Clase form-group añadida \"), _cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"first_name\"\n  }, \"Nombre Completo\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.first_name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.first_name]])]), _createCommentVNode(\" Apellido \"), _createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" Clase form-group añadida \"), _cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"last_name\"\n  }, \"Apellido Completo\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.last_name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.last_name]])]), _createCommentVNode(\" Correo electrónico \"), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" Clase form-group añadida \"), _cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"Correo electrónico\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createCommentVNode(\" Número de teléfono \"), _createElementVNode(\"div\", _hoisted_7, [_createCommentVNode(\" Clase form-group añadida \"), _cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"phone\"\n  }, \"Número de teléfono\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"tel\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.phone = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.phone]])]), _createCommentVNode(\" Contraseña \"), _createElementVNode(\"div\", _hoisted_8, [_createCommentVNode(\" Clase form-group añadida \"), _cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    for: \"password\"\n  }, \"Contraseña\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.password = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _createCommentVNode(\" Confirmar contraseña \"), _createElementVNode(\"div\", _hoisted_9, [_createCommentVNode(\" Clase form-group añadida \"), _cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    for: \"password_confirmation\"\n  }, \"Confirmar contraseña\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.password_confirmation = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password_confirmation]])]), _createCommentVNode(\" Casilla para aceptar la política de tratamiento de datos \"), _createElementVNode(\"div\", _hoisted_10, [_createCommentVNode(\" Clase form-group añadida \"), _createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.acceptsPolicy = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.acceptsPolicy]]), _cache[15] || (_cache[15] = _createTextVNode(\" Acepto la política de tratamiento de datos \"))])]), _cache[16] || (_cache[16] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn-register\"\n  }, \"Registrar\", -1 /* HOISTED */)), _createCommentVNode(\" Clase btn-register añadida \")], 32 /* NEED_HYDRATION */), _cache[18] || (_cache[18] = _createElementVNode(\"p\", {\n    class: \"register-link\"\n  }, [_createTextVNode(\"¿Ya tienes una cuenta? \"), _createElementVNode(\"a\", {\n    href: \"/login\"\n  }, \"Ingresa\")], -1 /* HOISTED */))])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","onClick","_cache","args","$options","goToHome","_hoisted_3","_createCommentVNode","onSubmit","_withModifiers","register","_hoisted_4","for","type","$event","$data","first_name","required","_hoisted_5","last_name","_hoisted_6","email","_hoisted_7","phone","_hoisted_8","password","_hoisted_9","password_confirmation","_hoisted_10","acceptsPolicy","_createTextVNode","href"],"sources":["/home/infraestructura/Documents/UNIVERSIDAD/SEMESTRE 5/Programacion orientada en web/proyecto_alojamiento/alojamiento-frontends/src/components/RegisterComponent.vue"],"sourcesContent":["<template>\n  <div class=\"right-bar\">\n      <nav class=\"navbar2\">\n        <button @click=\"goToHome\" class=\"btn2\">Inicio</button>\n      </nav>\n    </div>\n  <div class=\"container register\"> <!-- Clase container añadida -->\n    <h2>Register</h2>\n    <form class=\"form-register\" @submit.prevent=\"register\"> <!-- Clase form-register añadida -->\n      <!-- Nombre -->\n      <div class=\"form-group\"> <!-- Clase form-group añadida -->\n        <label for=\"first_name\">Nombre Completo</label>\n        <input type=\"text\" v-model=\"first_name\" required />\n      </div>\n\n      <!-- Apellido -->\n      <div class=\"form-group\"> <!-- Clase form-group añadida -->\n        <label for=\"last_name\">Apellido Completo</label>\n        <input type=\"text\" v-model=\"last_name\" required />\n      </div>\n\n      <!-- Correo electrónico -->\n      <div class=\"form-group\"> <!-- Clase form-group añadida -->\n        <label for=\"email\">Correo electrónico</label>\n        <input type=\"email\" v-model=\"email\" required />\n      </div>\n\n      <!-- Número de teléfono -->\n      <div class=\"form-group\"> <!-- Clase form-group añadida -->\n        <label for=\"phone\">Número de teléfono</label>\n        <input type=\"tel\" v-model=\"phone\" required />\n      </div>\n\n      <!-- Contraseña -->\n      <div class=\"form-group\"> <!-- Clase form-group añadida -->\n        <label for=\"password\">Contraseña</label>\n        <input type=\"password\" v-model=\"password\" required />\n      </div>\n\n      <!-- Confirmar contraseña -->\n      <div class=\"form-group\"> <!-- Clase form-group añadida -->\n        <label for=\"password_confirmation\">Confirmar contraseña</label>\n        <input type=\"password\" v-model=\"password_confirmation\" required />\n      </div>\n\n      <!-- Casilla para aceptar la política de tratamiento de datos -->\n      <div class=\"form-group\"> <!-- Clase form-group añadida -->\n        <label>\n          <input type=\"checkbox\" v-model=\"acceptsPolicy\" />\n          Acepto la política de tratamiento de datos\n        </label>\n      </div>\n\n      <button type=\"submit\" class=\"btn-register\">Registrar</button> <!-- Clase btn-register añadida -->\n    </form>\n    <p class=\"register-link\">¿Ya tienes una cuenta? <a href=\"/login\">Ingresa</a></p>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'; // Importar Axios\n\nexport default {\n  data() {\n    return {\n      first_name: '',\n      last_name: '',\n      email: '',\n      phone: '',\n      password: '',\n      password_confirmation: '',\n      acceptsPolicy: false, // Nuevo campo para aceptar la política de datos\n    };\n  },\n  methods: {\n    goToHome() {\n      this.$router.push('/home');\n    },\n    async register() {\n      if (!this.acceptsPolicy) {\n        alert('Debes aceptar la política de tratamiento de datos.');\n        return;\n      }\n\n      if (this.password !== this.password_confirmation) {\n        alert('Las contraseñas no coinciden.');\n        return;\n      }\n\n      try {\n        const response = await axios.post('http://localhost:8080/v1/users/save', {\n          firstName: this.first_name,\n          lastName: this.last_name,\n          email: this.email,\n          phone: this.phone,\n          password: this.password,\n          privacy: this.acceptsPolicy, // Enviar el valor al backend\n          admin: false,\n        });\n        \n\n        if (response.status === 200) {\n          alert('Usuario registrado con éxito');\n          this.$router.push('/rooms')\n        } else {\n          alert('Error: ' + response.data.message);\n        }\n      } \n      catch (error) {\n  if (error.response && error.response.status === 422) {\n    console.error('Errores de validación:', error.response.data.errors);\n    alert('Hay un problema con los datos enviados. Revisa los campos.');\n  } else {\n    console.error('Error del servidor:', error);\n    alert('Error del servidor');\n  }\n}\n\n    },\n  },\n};\n</script >\n\n<style>\n@import '@/assets/styly.css';\n</style>\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}